
CREATE database KAUSHIKDB;
use kaushikdb;
#DROP DATABASE KAUSHIKDB;


CREATE TABLE teacher(
TEACHER_ID INTEGER PRIMARY KEY,
NAME VARCHAR(30) NOT NULL
);

CREATE TABLE class(
CLASS_ID INTEGER PRIMARY KEY,
NAME VARCHAR(30) NOT NULL
);


CREATE TABLE student(
STUDENT_ID INTEGER PRIMARY KEY,
NAME VARCHAR(30) NOT NULL,
CLASS_ID INTEGER,
FOREIGN KEY (CLASS_ID) REFERENCES class(CLASS_ID)
);

CREATE TABLE subject(
SUBJECT_ID INTEGER PRIMARY KEY,
NAME VARCHAR(40) NOT NULL,
CLASS_ID INTEGER,
NO_OF_CHAPTERS INTEGER NOT NULL,
FOREIGN KEY (CLASS_ID) REFERENCES class(CLASS_ID)
);

CREATE TABLE question(
QUESTION_ID INTEGER PRIMARY KEY,
QUESTION VARCHAR(1000) NOT NULL,
SUBJECT_ID INTEGER,
CHAPTER_NUMBER INTEGER NOT NULL,
MARKS_PERCENTAGE DOUBLE NOT NULL,
ANSWER_TYPE INTEGER NOT NULL,
FOREIGN KEY (SUBJECT_ID) REFERENCES subject(SUBJECT_ID)
);

CREATE TABLE question_options(
QUESTION_OPTIONS_ID INTEGER PRIMARY KEY,
ANSWER_OPTION VARCHAR(1000) NOT NULL,
QUESTION_ID INTEGER,
FOREIGN KEY (QUESTION_ID) REFERENCES question(QUESTION_ID)
);



CREATE TABLE answer(
ANSWER_ID INTEGER PRIMARY KEY,
QUESTION_OPTIONS_ID INTEGER ,
QUESTION_ID INTEGER,
FOREIGN KEY (QUESTION_ID) REFERENCES question(QUESTION_ID),
FOREIGN KEY (QUESTION_OPTIONS_ID) REFERENCES question_options(QUESTION_OPTIONS_ID)
);

CREATE TABLE exam(
EXAM_ID INTEGER PRIMARY KEY,
NAME VARCHAR(40) NOT NULL,
TYPE VARCHAR(30) NOT NULL,
FORMAT VARCHAR(40) NOT NULL,
CLASS_ID INTEGER NOT NULL,
SUBJECT_ID INTEGER NOT NULL,
CHAPTER_RANGE VARCHAR(20) NOT NULL,
MAXMIMUM_MARKS INTEGER NOT NULL,
START_TIME DATETIME NOT NULL,
EXPIRY_TIME DATETIME NOT NULL,
DURATION DOUBLE NOT NULL,
SEND_EMAIL BOOLEAN NOT NULL,
SHOW_RESULT_AFTER_EXAM BOOLEAN NOT NULL,
SHOW_QUESTION_SCORE BOOLEAN NOT NULL,
TEACHER_CRADENTIAL_REQUIRE BOOLEAN NOT NULL,
EMAIL_ON_START BOOLEAN NOT NULL,
EMAIL_ON_COMPLETE BOOLEAN NOT NULL
);

CREATE TABLE exam_question(
EXAM_QUESTION_ID INTEGER PRIMARY KEY,
NUMBER_OF_QUESTIONS INTEGER NOT NULL,
EXAM_ID INTEGER,
MARKS DOUBLE NOT NULL,
FOREIGN KEY (EXAM_ID) REFERENCES EXAM(EXAM_ID)
);

CREATE TABLE exam_paper(
EXAM_PAPER_ID INTEGER PRIMARY KEY,
EXAM_ID INTEGER ,
QUESTION_ID INTEGER,
STUDENT_ID INTEGER,
MARKS DOUBLE NOT NULL,
FOREIGN KEY (QUESTION_ID) REFERENCES question(QUESTION_ID),
FOREIGN KEY (EXAM_ID) REFERENCES exam(EXAM_ID),
FOREIGN KEY (STUDENT_ID) REFERENCES student(STUDENT_ID)
);

CREATE TABLE student_exam_schedule(
STUDENT_EXAM_SCHEDULE_ID INTEGER PRIMARY KEY,
EXAM_ID INTEGER ,
STUDENT_ID INTEGER,
FOREIGN KEY (EXAM_ID) REFERENCES exam(EXAM_ID),
FOREIGN KEY (STUDENT_ID) REFERENCES student(STUDENT_ID)
);

CREATE TABLE student_response(
STUDENT_RESPONSE_ID INTEGER PRIMARY KEY,
QUESTION_OPTIONS_ID INTEGER ,
QUESTION_ID INTEGER,
STUDENT_ID INTEGER,
FOREIGN KEY (QUESTION_ID) REFERENCES question(QUESTION_ID),
FOREIGN KEY (QUESTION_OPTIONS_ID) REFERENCES question_options(QUESTION_OPTIONS_ID),
FOREIGN KEY (STUDENT_ID) REFERENCES student(STUDENT_ID)
);


CREATE TABLE result(
RESULT_ID INTEGER PRIMARY KEY,
EXAM_ID INTEGER ,
STUDENT_ID INTEGER,
SCORE DOUBLE NOT NULL,
FOREIGN KEY (EXAM_ID) REFERENCES exam(EXAM_ID),
FOREIGN KEY (STUDENT_ID) REFERENCES student(STUDENT_ID)
);


CREATE TABLE student_question_score(
STUDENT_QUESTION_SCORE_ID INTEGER PRIMARY KEY,
EXAM_ID INTEGER ,
STUDENT_ID INTEGER,
QUESTION_ID INTEGER,
SCORE DOUBLE NOT NULL,
FOREIGN KEY (EXAM_ID) REFERENCES exam(EXAM_ID),
FOREIGN KEY (STUDENT_ID) REFERENCES student(STUDENT_ID),
FOREIGN KEY (QUESTION_ID) REFERENCES question(QUESTION_ID)
);



    INSERT INTO teacher(TEACHER_ID,NAME)
VALUES (101,'Amit'),
       (102,'Babita'),
       (103,'Akshit');



	   INSERT INTO class(CLASS_ID,NAME)
VALUES (1,'FIRST GRADE'),
       (2,'SECOND GRADE'),
       (3,'THIRD GRADE');
	   
	   
	   INSERT INTO student(STUDENT_ID,NAME,CLASS_ID)
VALUES (1,'VYAN',1),
       (2,'AKKI',3),
       (3,'PICCHI',1),
       (4,'KITTU',1),
       (5,'LUCKY',3),
       (6,'PARTH',3),
       (7,'VISHU',2),
       (8,'SHAGUN',2);
	   
	   
	   INSERT INTO SUBJECT(SUBJECT_ID,NAME,CLASS_ID,NO_OF_CHAPTERS)
VALUES (1001,'MATH',1,25),
       (1002,'ENGLISH',1,16),
       (1003,'MATH',2,30),
       (1004,'ENGLISH',2,24),
       (1005,'MATH',3,35),
       (1006,'ENGLISH',3,28);
	   
	   
	    INSERT INTO QUESTION(QUESTION_ID, QUESTION, SUBJECT_ID, CHAPTER_NUMBER,MARKS_PERCENTAGE,ANSWER_TYPE)
VALUES (1,'WHAT IS 2+2',1001,1,5,1),
      (2,'WHAT IS 5+2',1001,2,4,1),
       (3,'CAPITOL OF INDIA IS::',1002,1,5,1),
        (4,'WHAT IS THE OPPOSITE OF GOOD?',1002,1,4,1),
       (5,'WHAT IS 2*2',1003,1,5,1),
      (6,'WHAT IS 5*2',1003,2,4,1),
       (7,'CAPITOL OF USA IS::',1004,1,5,1),
        (8,'WHAT IS THE OPPOSITE OF BLACK?',1004,2,4,1),
        (9,'WHAT IS 6/2',1005,1,5,1),
      (10,'WHAT IS 20*2',1005,2,4,1),
       (11,'CAPITOL OF FRANCE IS::',1006,1,5,1),
        (12,'WHAT IS THE OPPOSITE OF BOY?',1006,2,4,1);


		
		 INSERT INTO question_options( QUESTION_OPTIONS_ID, QUESTION_ID, ANSWER_OPTION)
VALUES (1,1,'4'),
       (2,1,'2'),
       (3,2,'7'),
       (4,2,'6'),
       (5,3,'NEW DELHI'),
       (6,3,'HARYANA'),
        (7,4,'BAD'),
       (8,4,'GREAT'),
       (9,5,'4'),
       (10,5,'5'),
       (11,6,'3'),
       (12,6,'10'),
        (13,7,'BOSTON'),
       (14,7,'WASHINGTON DC'),
       (15,8,'YELLOW'),
       (16,8,'WHITE'),
       (17,9,'3'),
       (18,9,'2'),
        (19,10,'40'),
       (20,10,'20'),
        (21,11,'PARIS'),
       (22,11,'WASHINGTON'),
       (23,12,'MAN'),
       (24,12,'GIRL');
	   
	   
	             
         INSERT INTO answer(ANSWER_ID, QUESTION_ID, QUESTION_OPTIONS_ID)
VALUES (1,1,1),
       (2,2,3),
       (3,3,5),
       (4,4,7),
       (5,5,9),
       (6,6,12),
       (7,7,14),
       (8,8,16),
       (9,9,17),
       (10,10,19),
       (11,11,21),
       (12,12,24);
       
       
      